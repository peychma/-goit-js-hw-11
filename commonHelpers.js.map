{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst baseUrl = \"https://pixabay.com\";\nconst endPoint = \"api/\";\nconst apiKey = \"41917701-79d925887e26991e7dbaf3a79\";\nconst galleryForm = document.querySelector(\".gallery-form\");\n\ngalleryForm.addEventListener(\"submit\", function (event) {\n    event.preventDefault();\n    const {name} = galleryForm.elements;\n    const searchText = name.value.trim();\n    const loader = document.querySelector(\".loader\");\n    loader.style.display = \"block\";\n    if (!searchText) {\n        alert(\"Please fill search string before submitting.\");\n    }\n    else if (name.value.length < 3) {\n        alert(\"Search string must be not less then 3 symbols.\");\n    }\n\n    searchImages(searchText).then(\n        (data) => {\n            loader.style.display = \"none\";\n            if (data.hits && data.hits.length > 0) {\n                showImages(data.hits);\n            } else {\n          iziToast.error({\n          title: \"Error\",\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n        });\n            }\n        })\n      .catch((error) => {\n          console.error(\"Error fetching images:\", error);\n      })\n    .finally (() => galleryForm.reset());\n    return;\n});\nfunction searchImages(query) {\n    const encodedQuery = encodeURIComponent(query);\n    const url = `${baseUrl}/${endPoint}?key=${apiKey}&q=${encodedQuery}&image_type=photo&orientation=horizontal&safesearch=true`;\n    return fetch(url).then(\n        (res) => {\n            if (!res.ok) {\n                throw new Error(res.statusText);\n            }\n            return res.json();\n        }\n    )\n}\nfunction showImages(images) {\n    const gallery = document.querySelector(\".gallery\");\n    gallery.innerHTML = \"\";\n    const galleryHTML = images.map(image => `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n        <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n      </a>\n    <p>Likes: ${image.likes}</p>\n    <p>Views: ${image.views}</p>\n    <p>Comments: ${image.comments}</p>\n    <p>Downloads: ${image.downloads}</p>\n    </li>`\n    ).join(\"\");\n    gallery.innerHTML = galleryHTML;\n    const lightbox = new SimpleLightbox(\".gallery a\", {\n        animationSpeed: 250,\n        captionsData: \"alt\",\n        captionDelay: 250\n    });\n    lightbox.refresh();\n}"],"names":["baseUrl","endPoint","apiKey","galleryForm","event","name","searchText","loader","searchImages","data","showImages","iziToast","error","query","encodedQuery","url","res","images","gallery","galleryHTML","image","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAU,sBACVC,EAAW,OACXC,EAAS,qCACTC,EAAc,SAAS,cAAc,eAAe,EAE1DA,EAAY,iBAAiB,SAAU,SAAUC,EAAO,CACpDA,EAAM,eAAc,EACpB,KAAM,CAAC,KAAAC,CAAI,EAAIF,EAAY,SACrBG,EAAaD,EAAK,MAAM,KAAI,EAC5BE,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,QAClBD,EAGID,EAAK,MAAM,OAAS,GACzB,MAAM,gDAAgD,EAHtD,MAAM,8CAA8C,EAMxDG,EAAaF,CAAU,EAAE,KACpBG,GAAS,CACNF,EAAO,MAAM,QAAU,OACnBE,EAAK,MAAQA,EAAK,KAAK,OAAS,EAChCC,EAAWD,EAAK,IAAI,EAE1BE,EAAS,MAAM,CACf,MAAO,QACP,QAAS,0EACnB,CAAS,CAET,CAAS,EACF,MAAOC,GAAU,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CACvD,CAAO,EACF,QAAS,IAAMT,EAAY,MAAK,CAAE,CAEvC,CAAC,EACD,SAASK,EAAaK,EAAO,CACzB,MAAMC,EAAe,mBAAmBD,CAAK,EACvCE,EAAM,GAAGf,KAAWC,SAAgBC,OAAYY,4DACtD,OAAO,MAAMC,CAAG,EAAE,KACbC,GAAQ,CACL,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,UAAU,EAElC,OAAOA,EAAI,MACd,CACJ,CACL,CACA,SAASN,EAAWO,EAAQ,CACxB,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GACpB,MAAMC,EAAcF,EAAO,IAAIG,GAAS;AAAA,sCACNA,EAAM;AAAA,0CACFA,EAAM,sBAAsBA,EAAM;AAAA;AAAA,gBAE5DA,EAAM;AAAA,gBACNA,EAAM;AAAA,mBACHA,EAAM;AAAA,oBACLA,EAAM;AAAA,UAE1B,EAAM,KAAK,EAAE,EACTF,EAAQ,UAAYC,EACH,IAAIE,EAAe,aAAc,CAC9C,eAAgB,IAChB,aAAc,MACd,aAAc,GACtB,CAAK,EACQ,QAAO,CACpB"}